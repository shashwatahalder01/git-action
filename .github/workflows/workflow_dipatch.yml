name: workflow_dispatch_with_input

on:
  workflow_dispatch:
    inputs:
      environment:
        description: Run tests on which environment
        default: production
      testsuite:
        description: Choose which test suite to run
        default: All
        type: choice
        options:
          - E2E
          - API
          - All

jobs:
  workflow_with_input:
    runs-on: ubuntu-latest
    steps:
      - name: run with input
        run: |
          echo ${{github.context.inputs.testsuite}}

      # Run e2e tests
      - name: ðŸ§ª Running the e2e tests
        id: e2e-test
        if: success() && ${{github.context.inputs.testsuite == 'E2E' }}
        run: |
          echo running e2e tests
      # Run API tests
      - name: ðŸ§ª Running the api tests
        id: api-test
        if: always() && ${{github.context.inputs.testsuite  == 'API' }}
        timeout-minutes: 5
        run: |
          echo running api tests
